<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>G150 ìƒ´í‘¸ì¶”ì²œ Â· ë¶€ë“¤ë´‡(ë”°ëœ»/ë³´ìŠµ ì‹œë‚˜ë¦¬ì˜¤)</title>
<link rel="preload" as="image" href="./g150-daily.png">
<style>
  /* ê¸°ì¡´ ì‚´êµ¬í†¤ í”„ë ˆì„ ìœ ì§€ */
  body{font-family:Arial,sans-serif;background:#fff8f0;margin:0;display:flex;justify-content:center;align-items:center;height:100vh}
  #chat-container{width:400px;background:#fff3e6;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.1);padding:20px;overflow-y:auto;max-height:90vh;line-height:1.8}
  .bot-message,.user-message{margin:10px 0;display:flex}
  .bot-message{justify-content:flex-start}.user-message{justify-content:flex-end}
  .message{padding:10px 15px;border-radius:20px;max-width:70%}
  .bot-message .message{background:#ffd8b1;color:#5a372a}
  .user-message .message{background:#ffcba4;color:#5a372a}
  .button-container{text-align:center;margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
  button{background:#ffad8f;color:#5a372a;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}
  button:hover{background:#e69c7a}
  .image-container{text-align:center;margin:10px 0}
  .image-container img{width:100%;height:200px;object-fit:contain;border-radius:10px}
</style>
</head>
<body>
<div id="chat-container"></div>

<script>
const chatContainer=document.getElementById('chat-container');
const IMG_URL="./g150-daily.png";

/* ìƒíƒœ: ì‚¬ìš©ì ì„ íƒì„ ì €ì¥í•´ ë‹¤ìŒ ë©˜íŠ¸ì— ë°˜ì˜ */
let concern=null;   // 'ê±´ì¡°í•¨' | 'í‘¸ì„í•¨' | 'ìœ¤ê¸° ë¶€ì¡±'
let scent=null;     // 'ë¬´í–¥ì— ê°€ê¹Œìš´' | 'ì€ì€í•œ í–¥'

/* 6í„´(ë´‡5 + ë§ˆì§€ë§‰ ì•ˆë‚´1), ì •ë³´ ìŠ¬ë¡¯ ê³ ì •:
   1 ì¸ì‚¬/ê³µê° â†’ 2 ì†Œê°œÂ·ê³ ë¯¼ ì„ íƒ â†’ 3 ì¶”ì²œ ê¸°ì¤€Â·í–¥ ì„ í˜¸ â†’ 4 ì œí’ˆ ì†Œê°œ(ì´ë¯¸ì§€) â†’ 5 ì‚¬ìš© ê°€ì´ë“œ â†’ 6 ì•ˆì „/ë¬¸ì„œ */
const convo=[
  { type:'bot',
    text:'ì•ˆë…•í•˜ì„¸ìš”! ì œê°€ ë„ì™€ë“œë ¤ë„ ë ê¹Œìš”? ê±´ì¡°í•˜ê³  í‘¸ì„í•´ì§„ ëª¨ë°œì„ í¸ì•ˆí•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì•ˆë‚´ë“œë¦´ê²Œìš” ğŸ˜Š',
    buttons:[{label:'ì‹œì‘í•˜ê¸°', next:1}]
  },
  { type:'bot',
    text:'ë³´ìŠµ ê´€ë ¨ í•µì‹¬ ì •ë³´ë¥¼ ìˆœì„œëŒ€ë¡œ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤. ë¨¼ì €, ê°€ì¥ ë¶ˆí¸í•œ ì ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.',
    buttons:[
      {label:'ê±´ì¡°í•¨', next:2, onClick:()=>{concern='ê±´ì¡°í•¨'}},
      {label:'í‘¸ì„í•¨', next:2, onClick:()=>{concern='í‘¸ì„í•¨'}},
      {label:'ìœ¤ê¸° ë¶€ì¡±', next:2, onClick:()=>{concern='ìœ¤ê¸° ë¶€ì¡±'}}
    ]
  },
  { type:'bot',
    text:()=>`í™•ì¸í–ˆì–´ìš”. ì¶”ì²œ ê¸°ì¤€ì€ ìˆ˜ë¶„ ìœ ì§€ë ¥, ì„¸ì •ë ¥ ë°¸ëŸ°ìŠ¤, ì”í–¥ì˜ ì€ì€í•¨ì´ì—ìš”. í–¥ ì„ í˜¸ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.`,
    buttons:[
      {label:'ë¬´í–¥ì— ê°€ê¹Œìš´', next:3, onClick:()=>{scent='ë¬´í–¥ì— ê°€ê¹Œìš´'}},
      {label:'ì€ì€í•œ í–¥', next:3, onClick:()=>{scent='ì€ì€í•œ í–¥'}}
    ]
  },
  { type:'bot',
    text:()=>`ì¶”ì²œ ì œí’ˆì€ <b>G150 Daily Shampoo</b>ì˜ˆìš”. ${concern?`íŠ¹íˆ ${concern} ì™„í™”ì— `:''}ë„ì›€ì´ ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆê³ , ì‚¬ìš© í›„ ì´‰ê° ê°œì„ ì´ ë³´ê³ ë˜ì—ˆìŠµë‹ˆë‹¤. í–¥ì€ ${scent||'ì€ì€í•œ í†¤'}ìœ¼ë¡œ ë¶€ë‹´ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.`,
    image:IMG_URL,
    buttons:[{label:'ê³„ì†', next:4}]
  },
  { type:'bot',
    text:'ì¼ë°˜ ê¶Œì¥ ë¹ˆë„ëŠ” ì£¼ 3â€“4íšŒì˜ˆìš”. ëª¨ë°œì— ë„í¬ í›„ 1â€“2ë¶„ ìœ ì§€í•˜ê³  ì¶©ë¶„íˆ í—¹ê¶ˆ ì£¼ì„¸ìš”. ì¤‘ê°„ë¶€í„° ë ë¶€ë¶„ì—ëŠ” ê°€ë³ê²Œ ë§ˆì‚¬ì§€í•´ ì£¼ì„¸ìš”.',
    buttons:[{label:'ìê·¹ì´ ê±±ì •ë¼ìš”', next:5}]
  },
  { type:'bot',
    text:'ì €ìê·¹ ê´€ë ¨ ì‹œí—˜ì„ í†µê³¼í–ˆì–´ìš”. ê°œì¸ì°¨ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì œí’ˆ ë¼ë²¨ê³¼ ìš”ì•½ ë¬¸ì„œë¥¼ í•¨ê»˜ í™•ì¸í•´ ì£¼ì„¸ìš”.',
    buttons:[]
  }
];

function addRow(kind, html){
  const row=document.createElement('div'); row.className=kind==='bot'?'bot-message':'user-message';
  const msg=document.createElement('div'); msg.className='message'; msg.innerHTML=html;
  row.appendChild(msg); chatContainer.appendChild(row); chatContainer.scrollTop=chatContainer.scrollHeight;
}
function addImage(url){
  const c=document.createElement('div'); c.className='image-container';
  const img=document.createElement('img'); img.src=url; img.alt='G150 Daily Shampoo bottle'; img.loading='eager';
  c.appendChild(img); chatContainer.appendChild(c); chatContainer.scrollTop=chatContainer.scrollHeight;
}
function addButtons(btns){
  const bc=document.createElement('div'); bc.className='button-container';
  btns.forEach(b=>{
    const el=document.createElement('button'); el.textContent=b.label;
    el.onclick=()=>{ addRow('user', b.label); if(typeof b.onClick==='function') b.onClick(); if(b.next!==null && b.next!==undefined) step(b.next); };
    bc.appendChild(el);
  });
  chatContainer.appendChild(bc); chatContainer.scrollTop=chatContainer.scrollHeight;
}
function clearButtons(){ document.querySelectorAll('.button-container').forEach(n=>n.remove()); }

function step(i){
  clearButtons();
  const s=convo[i];
  if(!s) return;
  const text= typeof s.text==='function' ? s.text() : s.text;
  addRow('bot', text);
  if(s.image) addImage(s.image);
  if(s.buttons && s.buttons.length) addButtons(s.buttons);
}

/* í”„ë¦¬ë¡œë“œ í›„ ì‹œì‘ */
new Image().src=IMG_URL;
step(0);
</script>
</body>
</html>

