<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>G150 ìƒ´í‘¸ì¶”ì²œ Â· ë¶€ë“¤ë´‡(ë”°ëœ» ì¡°ê±´)</title>
  <style>
    /* === ì‹¤í—˜ í†µì œë¥¼ ìœ„í•œ ì¤‘ë¦½ UI (ì„¸ ì¡°ê±´ ë™ì¼ ì ìš© ê¶Œì¥) === */
    :root{
      --bg:#f5f5f5; --panel:#ffffff; --bubble-bot:#eeeeee; --bubble-user:#e0e0e0; --text:#222;
      --radius:14px; --w:400px;
    }
    body{
      font-family: Arial, sans-serif; background:var(--bg); margin:0; padding:0;
      display:flex; justify-content:center; align-items:center; height:100vh;
    }
    #chat-container{
      width:var(--w); max-height:90vh; background:var(--panel); border-radius:12px;
      box-shadow:0 4px 8px rgba(0,0,0,.08);
      padding:18px; overflow-y:auto; line-height:1.6;
    }
    .row{ margin:10px 0; display:flex; }
    .bot{ justify-content:flex-start; }
    .user{ justify-content:flex-end; }
    .msg{
      max-width:74%; padding:10px 14px; border-radius:var(--radius); color:var(--text);
      word-break:keep-all; white-space:pre-wrap;
    }
    .bot .msg{ background:var(--bubble-bot); }
    .user .msg{ background:var(--bubble-user); }
    .btns{ text-align:center; margin-top:8px; display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
    button{
      background:#d9d9d9; color:#222; border:0; border-radius:8px; padding:8px 12px; cursor:pointer;
    }
    button:hover{ filter:brightness(.95); }
    .image{ text-align:center; margin:8px 0; }
    .image img{ max-width:100%; border-radius:8px; }
    /* ì ‘ê·¼ì„± */
    button:focus{ outline:2px solid #9ea0a3; outline-offset:1px; }
  </style>
</head>
<body>
  <div id="chat-container" aria-live="polite"></div>

  <script>
    /* -----------------------------
       ë¶€ë“¤ë´‡(ë”°ëœ» ì¡°ê±´) â€“ ì–¸ì–´ë§Œ ì¡°ì‘
       ê³µí†µ êµ¬ì¡°: 6í„´(ë´‡ 5 + ë§ˆì§€ë§‰ ë‹µë³€ 1), ì •ë³´ìŠ¬ë¡¯ 3ê°œ(íš¨ëŠ¥ê·¼ê±°/ì„±ë¶„Â·í–¥/ì‚¬ìš©ê°€ì´ë“œ)
       ì´ëª¨ì§€: 1íšŒ(ì´ˆë°˜ ê³µê° í‘œì‹œ)ë§Œ ì‚¬ìš©
       ì´ë¯¸ì§€: ì¡°ê±´ ê°„ êµë€ì„ í”¼í•˜ë ¤ë©´ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜ ì„¸ ì¡°ê±´ ë™ì¼ ì´ë¯¸ì§€ 1ì¥ë§Œ ì‚¬ìš©
    --------------------------------*/

    const USE_IMAGE = false; // ì„¸ ì¡°ê±´ ë™ì¼í•˜ê²Œ ì“¸ ê²½ìš° trueë¡œ
    const COMMON_IMAGE_URL = "https://via.placeholder.com/360x200?text=Product+Image"; // ì„¸ ì¡°ê±´ ë™ì¼ ì´ë¯¸ì§€

    const convo = [
      // B1: ì²« ì¸ì‚¬(ê³µê° ì‹ í˜¸Â·ì´ëª¨ì§€ 1íšŒ)
      { type:"bot",
        text:"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ë¶€ë“¤ë´‡ì…ë‹ˆë‹¤. ë‘í”¼ê°€ ì˜ˆë¯¼í•´ ë¶ˆí¸í•˜ì…¨ì„ ê²ƒ ê°™ì•„ìš” ğŸ˜Š" ,
        buttons:[{label:"ì‹œì‘í•˜ê¸°", next:1}]
      },
      // B2: ì•ˆë‚´(ì¤‘ë¦½í˜• í”„ë ˆì´ë° + ì„ íƒ ë²„íŠ¼ì€ ëª¨ë‘ ë™ì¼ ê²½ë¡œ â†’ ë…¸ì¶œëŸ‰ í†µì œ)
      { type:"bot",
        text:"ì›í•˜ì‹œëŠ” í•­ëª©ì„ ì„ íƒí•´ ì£¼ì„¸ìš”. ìˆœì„œëŒ€ë¡œ ê°„ë‹¨íˆ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
        buttons:[
          {label:"íš¨ëŠ¥/ê·¼ê±°", next:2},
          {label:"ì„±ë¶„/í–¥", next:2},
          {label:"ì‚¬ìš© ê°€ì´ë“œ", next:2}
        ]
      },
      // B3: íš¨ëŠ¥/ê·¼ê±°(ì •ì„œì  ì•ˆì •ì˜ ëŠë‚Œ ì¤‘ì‹¬ ì„œìˆ , ê³¼ì¥Â·ê°íƒ„ ê¸ˆì§€)
      { type:"bot",
        text:"ì´ ì œí’ˆì€ ë¯¼ê°í•œ ë‘í”¼ ì‚¬ìš©ì„ ëª©í‘œë¡œ ì„¤ê³„ë˜ì—ˆê³ , ì‚¬ìš© í›„ í¸ì•ˆí•¨ì„ ë³´ê³ í•œ ì‚¬ë¡€ê°€ ìˆìŠµë‹ˆë‹¤.",
        image: USE_IMAGE ? COMMON_IMAGE_URL : null,
        buttons:[{label:"ê³„ì†", next:3}]
      },
      // B4: ì„±ë¶„/í–¥(ìì—° ìœ ë˜Â·ì€ì€í•¨ ë“± ë”°ëœ» ë‹¨ì–´ì§€ë§Œ ì‚¬ì‹¤ ì„œìˆ )
      { type:"bot",
        text:"ì£¼ìš” ì„±ë¶„ì€ ìì—° ìœ ë˜ ì„±ë¶„ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, í–¥ì€ ì€ì€í•˜ê³  ë¶€ë“œëŸ½ê²Œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.",
        buttons:[{label:"ê³„ì†", next:4}]
      },
      // B5: ì‚¬ìš© ê°€ì´ë“œ(ì§€ì‹œë¥¼ ë¶€ë“œëŸ½ê²Œâ€”ê¶Œì¥ í‘œí˜„)
      { type:"bot",
        text:"ì¼ë°˜ ê¶Œì¥ ë¹ˆë„ëŠ” ì£¼ 3â€“4íšŒì´ë©°, ë„í¬ í›„ 1â€“2ë¶„ ìœ ì§€í•œ ë’¤ ì¶©ë¶„íˆ í—¹ê¶ˆ ì£¼ì„¸ìš”.",
        buttons:[
          {label:"ìê·¹ì´ ê±±ì •ë¼ìš”", next:5}
        ]
      },
      // B6: ì•ˆì „/ë§ˆë¬´ë¦¬(ì•ˆì‹¬ ì„œìˆ  + ë¬¸ì„œ ì°¸ì¡°, ê³¼ì¥ ê¸ˆì§€)
      { type:"bot",
        text:"ì €ìê·¹ ê´€ë ¨ ì‹œí—˜ì„ í†µê³¼í•œ ì œí’ˆì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì œí’ˆ ë¼ë²¨ê³¼ ìš”ì•½ ë¬¸ì„œì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        buttons:[]
      }
    ];

    const box = document.getElementById("chat-container");

    function addRow(kind, html){
      const row = document.createElement("div");
      row.className = `row ${kind}`;
      const msg = document.createElement("div");
      msg.className = "msg";
      msg.innerHTML = html;
      row.appendChild(msg);
      box.appendChild(row);
      box.scrollTop = box.scrollHeight;
    }

    function addButtons(btns){
      const wrap = document.createElement("div");
      wrap.className = "btns";
      btns.forEach(b=>{
        const el = document.createElement("button");
        el.textContent = b.label;
        el.onclick = ()=>{
          addRow("user", b.label);
          if (typeof b.onClick === "function") b.onClick();
          if (b.next !== undefined && b.next !== null) step(b.next);
        };
        wrap.appendChild(el);
      });
      box.appendChild(wrap);
      box.scrollTop = box.scrollHeight;
    }

    function addImage(url){
      const div = document.createElement("div");
      div.className = "image";
      const img = document.createElement("img");
      img.src = url; img.alt = "ì œí’ˆ ì´ë¯¸ì§€";
      div.appendChild(img);
      box.appendChild(div);
      box.scrollTop = box.scrollHeight;
    }

    function clearButtons(){
      const btnGroups = box.querySelectorAll(".btns");
      btnGroups.forEach(g=>g.remove());
    }

    function step(i){
      clearButtons();
      const s = convo[i];
      addRow("bot", s.text);
      if (s.image) addImage(s.image);
      if (s.buttons && s.buttons.length) addButtons(s.buttons);
    }

    // ì‹œì‘
    step(0);
  </script>
</body>
</html>
